---
title: "[Http] HTTP API"
date: "2021-07-01T20:40:32.169Z"
template: "post"
draft: false
slug: "http/internet/network/no5"
category: "http"
tags:
 - "http"
 - "TIL/http"
 - "network"
 - "inflearn/http"
description: "HTTP API 만들기 / 메서드(GET,POST,PUT,PATCH,DELETE) / HTTP 메서드의 속성"
---

# HTTP API
- - - - 

### API URI 설계

URI를 설계하는데 있어 가장 중요한 것은 **리소스 식별**

리소스란 회원등록, 회원수정, 회원삭제 같은것이 리소스가 아님.

회원이라는 개념 자체가 리소스.


**회원** 목록 조회 => /members

**회원** 조회 => /members/{id}

**회원** 등록 => /members/{id}

**회원** 수정 => /members/{id}

**회원** 삭제 => /members/{id}


계층 구조상 상위를 컬렉션으로 보고 복수단어 사용를 사용하도록 함(member -> members)

위와 같이 리소스를 식별 하고 행위는 HTTP메서드(get,post)를 이용함.



### HTTP 메서드 종류(주요메서드/기타메서드)

##### 기타메서드

    - HEAD : GET과 동일하지만 메시지 부분을 제외하고 상태 줄과 헤더만 반환

    - OPTIONS : 대상 리소스에 대한 통신 가능 옵션(메서드)을 주로 설명

    - CONNECT : 대상 자원으로 식별되는 서버에 대한 터널을 설정 (거의 사용x)

    - TRACE : 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행 (거의 사용x)


##### 주요메서드

    - GET : 리소스 조회

    - POST : 요청 데이터 처리(주로 등록)

    - PUT : 리소스 대체(리소스가 존재하면 대체하고 없으면 생성)

    - PATCH : 리소스 부분 변경

    - DELETE : 리소스 삭제



### GET 

    - 리소스 조회

    - 서버에 전달하는 데이터는 쿼리(쿼리 파라미터, 쿼리 스트링)를 통해 전달

    - 메시지 바디를 사용 할 수 있지만 지원하지 않는 곳이 많아서 권장하지 않음



### POST

    - 요청 데이터 처리

    - 메시지 바디를 통해 서버로 요청 데이터 전달

    - 리소스의 위치를 모름.(아직 생성되기 전일수도 있음)

    - POST는 응답데이터에 location 라는 자원이 생성된 경로를 포함함

    - POST는 크게 3가지 경우에 사용

        1. 새 리소스 생성(등록)

        2. 요청 데이터 처리

        3. 다른 메스드로 처리하기 애매한 경우



### PUT

    - 리소스가 있으면 대체, 없으면 생성(덮어씌우기)

    - 클라이언트가 리소스를 식별(클라이언트가 리소스 위치를 알고 URI를 지정한다는게 POST와의 차이)

    - 리소스를 완전히 대체하는 기능이라 "수정"하는 용도로 사용하기 힘듦



### PATCH

    - 리소스 부분 변경

    - 간혹 PATCH가 지원 안되는 서버가 있는데 이때 POST를 사용함



### DELETE

    - 리소스 제거




### HTTP 메서드 속성

    - 안전 : 리소를 변경하지 않음

            GET은 단순 조회이기때문에 안전. 데이터 변화가 생기는 다른 메서드는 안전하지 않음.

    - 멱등 : 호출 횟수와 상관없이 결과가 똑같음

            GET, PUT, DELETE는 결과가 같음
            POST는 호출을 여러번 하면 중복이 발생할 수 있음 
            
            서버가 TIMEOUT으로 정상 응답을 못했을때, 클라이언트가 같은 요청을 다시 해도 될지 판단하는 근거가 됨

    - 캐시가능 :

            GET, HEAD, POST, PATCH 캐시 가능 하지만, 실제로는 GET, HEAD 정도만 캐시로 사용

            GET은 URL만 키로 잡고 캐시하면 되는데 POST, PATCH는 BODY 내용까지 캐시 키로 고려해야 하기 때문에 구현이 쉽지 않음.
